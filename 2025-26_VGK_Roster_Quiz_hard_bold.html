<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>2025-26 VGK Roster Quiz - Hard Mode</title>
    <style>
        body {
            font-family: 'Arial Black', Arial, sans-serif;
            max-width: 900px;
            margin: 0 auto;
            padding: 20px;
            background: linear-gradient(135deg, #1a1a1a 0%, #333F48 50%, #1a1a1a 100%);
            background-attachment: fixed;
            min-height: 100vh;
        }
        .container {
            background: rgba(0, 0, 0, 0.85);
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 8px 32px rgba(255, 215, 0, 0.3);
            border: 3px solid #FFD700;
        }
        h1 {
            color: #FFD700;
            text-align: center;
            margin-bottom: 30px;
            font-size: 2.5em;
            text-transform: uppercase;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.8);
            letter-spacing: 2px;
        }
        .question {
            margin: 20px 0;
            padding: 20px;
            background: linear-gradient(135deg, #333F48 0%, #2a3540 100%);
            border-radius: 10px;
            border-left: 5px solid #FFD700;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.3);
        }
        .question-text {
            font-size: 18px;
            font-weight: bold;
            margin-bottom: 10px;
            color: #ffffff;
        }
        input[type="text"] {
            width: 100%;
            padding: 12px;
            font-size: 16px;
            border: 2px solid #FFD700;
            border-radius: 8px;
            box-sizing: border-box;
            background: rgba(255, 255, 255, 0.95);
            transition: all 0.3s;
        }
        input[type="text"]:focus {
            outline: none;
            border-color: #FFC947;
            box-shadow: 0 0 10px rgba(255, 215, 0, 0.5);
            background: white;
        }
        .feedback {
            margin-top: 10px;
            padding: 10px;
            border-radius: 8px;
            display: none;
            font-weight: bold;
        }
        .correct {
            background: rgba(76, 175, 80, 0.2);
            color: #4CAF50;
            border: 2px solid #4CAF50;
        }
        .incorrect {
            background: rgba(244, 67, 54, 0.2);
            color: #f44336;
            border: 2px solid #f44336;
        }
        .submit-btn {
            display: block;
            width: 100%;
            padding: 18px;
            font-size: 20px;
            font-weight: bold;
            color: #000000;
            background: linear-gradient(135deg, #FFD700 0%, #FFC947 100%);
            border: none;
            border-radius: 10px;
            cursor: pointer;
            margin-top: 30px;
            text-transform: uppercase;
            letter-spacing: 1px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.4);
            transition: all 0.3s;
        }
        .submit-btn:hover {
            background: linear-gradient(135deg, #FFC947 0%, #d4c46a 100%);
            transform: translateY(-2px);
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.5);
        }
        .shuffle-btn {
            display: block;
            width: 100%;
            padding: 15px;
            font-size: 18px;
            font-weight: bold;
            color: #ffffff;
            background: linear-gradient(135deg, #333F48 0%, #4a5866 100%);
            border: 2px solid #FFD700;
            border-radius: 10px;
            cursor: pointer;
            margin-bottom: 15px;
            text-transform: uppercase;
            letter-spacing: 1px;
            transition: all 0.3s;
        }
        .shuffle-btn:hover {
            background: linear-gradient(135deg, #4a5866 0%, #5a6876 100%);
            transform: translateY(-2px);
        }
        .reset-btn {
            display: block;
            width: 100%;
            padding: 12px;
            font-size: 14px;
            font-weight: bold;
            color: #ffffff;
            background: rgba(158, 158, 158, 0.3);
            border: 1px solid #9E9E9E;
            border-radius: 8px;
            cursor: pointer;
            margin-bottom: 15px;
            transition: all 0.3s;
        }
        .reset-btn:hover {
            background: rgba(117, 117, 117, 0.5);
        }
        .check-btn {
            padding: 10px 18px;
            font-size: 14px;
            font-weight: bold;
            color: #000000;
            background: linear-gradient(135deg, #FFD700 0%, #FFC947 100%);
            border: none;
            border-radius: 8px;
            cursor: pointer;
            margin-top: 10px;
            transition: all 0.3s;
        }
        .check-btn:hover {
            background: linear-gradient(135deg, #FFC947 0%, #d4c46a 100%);
            transform: translateY(-1px);
        }
        .input-row {
            display: flex;
            gap: 10px;
            align-items: flex-start;
        }
        .input-row input {
            flex: 1;
        }
        .status-badge {
            display: inline-block;
            padding: 4px 10px;
            border-radius: 5px;
            font-size: 11px;
            font-weight: bold;
            margin-left: 10px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        .status-wrong {
            background: rgba(244, 67, 54, 0.3);
            color: #ff6b6b;
            border: 1px solid #f44336;
        }
        .status-correct {
            background: rgba(76, 175, 80, 0.3);
            color: #81c784;
            border: 1px solid #4CAF50;
        }
        .score {
            text-align: center;
            font-size: 28px;
            font-weight: bold;
            margin: 20px 0;
            padding: 25px;
            background: linear-gradient(135deg, #FFD700 0%, #FFC947 100%);
            border-radius: 10px;
            display: none;
            color: #000000;
            text-transform: uppercase;
            letter-spacing: 2px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.4);
        }
        .progress {
            text-align: center;
            color: #FFC947;
            margin-bottom: 20px;
            font-size: 16px;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>‚öîÔ∏è VEGAS GOLDEN KNIGHTS ‚öîÔ∏è<br>2025-26 ROSTER QUIZ</h1>
        <div style="text-align: center; color: #FFC947; font-size: 1.1em; margin-bottom: 20px; font-weight: bold;">HARD MODE - Type Your Answers</div>
        <button class="shuffle-btn" onclick="shuffleQuiz()">üîÄ Shuffle Quiz</button>
        <button class="reset-btn" onclick="viewStats()">üìä View My Stats</button>
        <button class="reset-btn" onclick="exportStats()">üíæ Export Stats</button>
        <button class="reset-btn" onclick="resetStats()">‚Ü∫ Reset All Stats</button>
        <div class="progress" id="progress">Answer all questions then click Submit</div>
        <div class="score" id="score"></div>
        <form id="quizForm">
            <div id="questions"></div>
            <button type="submit" class="submit-btn">Submit Answers</button>
        </form>
    </div>

    <script>
        const questions = [
            // Goalies
            {q: "What # does Adin Hill wear?", a: ["33"]},
            {q: "What # does Akira Schmid wear?", a: ["40"]},
            {q: "Which hand do both goalies catch with?", a: ["left", "l"]},
            {q: "Who wears #33?", a: ["adin hill", "hill"]},
            {q: "Who wears #40?", a: ["akira schmid", "schmid"]},
            {q: "What position does Adin Hill play?", a: ["g", "goalie", "goaltender"]},
            {q: "What position does Akira Schmid play?", a: ["g", "goalie", "goaltender"]},
            {q: "Which hand does Adin Hill catch with?", a: ["left", "l"]},
            {q: "Which hand does Akira Schmid catch with?", a: ["left", "l"]},
            
            // Defense
            {q: "What # does Zach Whitecloud wear?", a: ["2"]},
            {q: "What # does Brayden McNabb wear?", a: ["3"]},
            {q: "What # does Jeremy Lauzon wear?", a: ["5"]},
            {q: "What # does Kaedan Korczak wear?", a: ["6"]},
            {q: "What # does Noah Hanifin wear?", a: ["15"]},
            {q: "What # does Ben Hutton wear?", a: ["17"]},
            {q: "What # does Shea Theodore wear?", a: ["27"]},
            {q: "Who wears #2?", a: ["zach whitecloud", "whitecloud"]},
            {q: "Who wears #3?", a: ["brayden mcnabb", "mcnabb"]},
            {q: "Who wears #5?", a: ["jeremy lauzon", "lauzon"]},
            {q: "Who wears #6?", a: ["kaedan korczak", "korczak"]},
            {q: "Who wears #15?", a: ["noah hanifin", "hanifin"]},
            {q: "Who wears #17?", a: ["ben hutton", "hutton"]},
            {q: "Who wears #27?", a: ["shea theodore", "theodore"]},
            {q: "Which two defensemen shoot right?", a: ["whitecloud and korczak", "korczak and whitecloud", "whitecloud korczak", "korczak whitecloud", "zach whitecloud and kaedan korczak", "kaedan korczak and zach whitecloud"]},
            {q: "How many defensemen shoot left vs right?", a: ["5 left 2 right", "5 left, 2 right", "5 l 2 r", "5 l, 2 r", "5-2", "5 and 2"]},
            {q: "What position does Zach Whitecloud play?", a: ["d", "defense", "defenseman"]},
            {q: "What position does Brayden McNabb play?", a: ["d", "defense", "defenseman"]},
            {q: "What position does Jeremy Lauzon play?", a: ["d", "defense", "defenseman"]},
            {q: "What position does Kaedan Korczak play?", a: ["d", "defense", "defenseman"]},
            {q: "What position does Noah Hanifin play?", a: ["d", "defense", "defenseman"]},
            {q: "What position does Ben Hutton play?", a: ["d", "defense", "defenseman"]},
            {q: "What position does Shea Theodore play?", a: ["d", "defense", "defenseman"]},
            {q: "Which side does Zach Whitecloud shoot?", a: ["right", "r"]},
            {q: "Which side does Brayden McNabb shoot?", a: ["left", "l"]},
            {q: "Which side does Jeremy Lauzon shoot?", a: ["left", "l"]},
            {q: "Which side does Kaedan Korczak shoot?", a: ["right", "r"]},
            {q: "Which side does Noah Hanifin shoot?", a: ["left", "l"]},
            {q: "Which side does Ben Hutton shoot?", a: ["left", "l"]},
            {q: "Which side does Shea Theodore shoot?", a: ["left", "l"]},
            
            // Left Wing
            {q: "What # does Brandon Saad wear?", a: ["20"]},
            {q: "What # does Cole Reinhardt wear?", a: ["23"]},
            {q: "What # does Ivan Barbashev wear?", a: ["49"]},
            {q: "Who wears #20?", a: ["brandon saad", "saad"]},
            {q: "Who wears #23?", a: ["cole reinhardt", "reinhardt"]},
            {q: "Who wears #49?", a: ["ivan barbashev", "barbashev"]},
            {q: "How many left wingers shoot left vs right?", a: ["3 left 0 right", "3 left, 0 right", "3 l 0 r", "3 l, 0 r", "3-0", "3 and 0", "3 left", "all left", "all 3 left"]},
            {q: "What position does Brandon Saad play?", a: ["lw", "left wing", "leftwing", "left winger"]},
            {q: "What position does Cole Reinhardt play?", a: ["lw", "left wing", "leftwing", "left winger"]},
            {q: "What position does Ivan Barbashev play?", a: ["lw", "left wing", "leftwing", "left winger"]},
            {q: "Which side does Brandon Saad shoot?", a: ["left", "l"]},
            {q: "Which side does Cole Reinhardt shoot?", a: ["left", "l"]},
            {q: "Which side does Ivan Barbashev shoot?", a: ["left", "l"]},
            
            // Center
            {q: "What # does Jack Eichel wear?", a: ["9"]},
            {q: "What # does Colton Sissons wear?", a: ["10"]},
            {q: "What # does Brett Howden wear?", a: ["21"]},
            {q: "What # does Tomas Hertl wear?", a: ["48"]},
            {q: "What # does William Karlsson wear?", a: ["71"]},
            {q: "Who wears #9?", a: ["jack eichel", "eichel"]},
            {q: "Who wears #10?", a: ["colton sissons", "sissons"]},
            {q: "Who wears #21?", a: ["brett howden", "howden"]},
            {q: "Who wears #48?", a: ["tomas hertl", "hertl"]},
            {q: "Who wears #71?", a: ["william karlsson", "karlsson"]},
            {q: "Which two centers shoot right?", a: ["eichel and sissons", "sissons and eichel", "eichel sissons", "sissons eichel", "jack eichel and colton sissons", "colton sissons and jack eichel"]},
            {q: "How many centers shoot left vs right?", a: ["3 left 2 right", "3 left, 2 right", "3 l 2 r", "3 l, 2 r", "3-2", "3 and 2"]},
            {q: "What position does Jack Eichel play?", a: ["c", "center", "centre"]},
            {q: "What position does Colton Sissons play?", a: ["c", "center", "centre"]},
            {q: "What position does Brett Howden play?", a: ["c", "center", "centre"]},
            {q: "What position does Tomas Hertl play?", a: ["c", "center", "centre"]},
            {q: "What position does William Karlsson play?", a: ["c", "center", "centre"]},
            {q: "Which side does Jack Eichel shoot?", a: ["right", "r"]},
            {q: "Which side does Colton Sissons shoot?", a: ["right", "r"]},
            {q: "Which side does Brett Howden shoot?", a: ["left", "l"]},
            {q: "Which side does Tomas Hertl shoot?", a: ["left", "l"]},
            {q: "Which side does William Karlsson shoot?", a: ["left", "l"]},
            
            // Right Wing
            {q: "What # does Pavel Dorofeyev wear?", a: ["16"]},
            {q: "What # does Reilly Smith wear?", a: ["19"]},
            {q: "What # does Alexander Holtz wear?", a: ["26"]},
            {q: "What # does Keegan Kolesar wear?", a: ["55"]},
            {q: "What # does Mark Stone wear?", a: ["61"]},
            {q: "What # does Mitch Marner wear?", a: ["93"]},
            {q: "Who wears #16?", a: ["pavel dorofeyev", "dorofeyev"]},
            {q: "Who wears #19?", a: ["reilly smith", "smith"]},
            {q: "Who wears #26?", a: ["alexander holtz", "holtz"]},
            {q: "Who wears #55?", a: ["keegan kolesar", "kolesar"]},
            {q: "Who wears #61?", a: ["mark stone", "stone"]},
            {q: "Who wears #93?", a: ["mitch marner", "marner"]},
            {q: "Which right wingers shoot right?", a: ["holtz kolesar stone marner", "holtz, kolesar, stone, marner", "alexander holtz keegan kolesar mark stone mitch marner", "alexander holtz, keegan kolesar, mark stone, mitch marner", "holtz kolesar stone and marner", "marner stone kolesar holtz"]},
            {q: "How many right wingers shoot left vs right?", a: ["2 left 4 right", "2 left, 4 right", "2 l 4 r", "2 l, 4 r", "2-4", "2 and 4"]},
            {q: "What position does Pavel Dorofeyev play?", a: ["rw", "right wing", "rightwing", "right winger"]},
            {q: "What position does Reilly Smith play?", a: ["rw", "right wing", "rightwing", "right winger"]},
            {q: "What position does Alexander Holtz play?", a: ["rw", "right wing", "rightwing", "right winger"]},
            {q: "What position does Keegan Kolesar play?", a: ["rw", "right wing", "rightwing", "right winger"]},
            {q: "What position does Mark Stone play?", a: ["rw", "right wing", "rightwing", "right winger"]},
            {q: "What position does Mitch Marner play?", a: ["rw", "right wing", "rightwing", "right winger"]},
            {q: "Which side does Pavel Dorofeyev shoot?", a: ["left", "l"]},
            {q: "Which side does Reilly Smith shoot?", a: ["left", "l"]},
            {q: "Which side does Alexander Holtz shoot?", a: ["right", "r"]},
            {q: "Which side does Keegan Kolesar shoot?", a: ["right", "r"]},
            {q: "Which side does Mark Stone shoot?", a: ["right", "r"]},
            {q: "Which side does Mitch Marner shoot?", a: ["right", "r"]}
        ];

        let shuffledQuestions = [];
        let questionStats = {}; // Track correct/incorrect per question

        // Load stats from localStorage
        function loadStats() {
            const saved = localStorage.getItem('rosterQuizStatsTyping');
            if (saved) {
                try {
                    questionStats = JSON.parse(saved);
                } catch (e) {
                    questionStats = {};
                }
            }
        }

        // Save stats to localStorage
        function saveStats() {
            localStorage.setItem('rosterQuizStatsTyping', JSON.stringify(questionStats));
        }

        function shuffle(array) {
            const arr = [...array];
            for (let i = arr.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [arr[i], arr[j]] = [arr[j], arr[i]];
            }
            return arr;
        }

        function smartShuffle(array) {
            // Separate into wrong, unanswered, and correct
            const wrong = [];
            const unanswered = [];
            const correct = [];

            array.forEach(q => {
                const stat = questionStats[q.q];
                if (!stat) {
                    unanswered.push(q);
                } else if (stat.lastResult === 'incorrect') {
                    wrong.push(q);
                } else if (stat.lastResult === 'correct') {
                    correct.push(q);
                }
            });

            // Shuffle each group
            const shuffledWrong = shuffle(wrong);
            const shuffledUnanswered = shuffle(unanswered);
            const shuffledCorrect = shuffle(correct);

            // Combine: wrong first, then unanswered, then correct
            return [...shuffledWrong, ...shuffledUnanswered, ...shuffledCorrect];
        }

        function checkAnswer(index) {
            const item = shuffledQuestions[index];
            const input = document.getElementById(`q${index}`);
            const feedback = document.getElementById(`f${index}`);
            const userAnswer = input.value.trim().toLowerCase();

            const isCorrect = item.a.some(answer => 
                userAnswer === answer.toLowerCase()
            );

            // Track the result
            if (!questionStats[item.q]) {
                questionStats[item.q] = { correct: 0, incorrect: 0 };
            }

            if (isCorrect) {
                questionStats[item.q].correct++;
                questionStats[item.q].lastResult = 'correct';
                feedback.className = 'feedback correct';
                feedback.textContent = '‚úì Correct!';
            } else {
                questionStats[item.q].incorrect++;
                questionStats[item.q].lastResult = 'incorrect';
                feedback.className = 'feedback incorrect';
                feedback.textContent = `‚úó Correct answer: ${item.a[0]}`;
            }
            feedback.style.display = 'block';
            
            // Save stats to localStorage
            saveStats();
        }

        function generateQuiz() {
            shuffledQuestions = smartShuffle(questions);
            const questionsDiv = document.getElementById('questions');
            questionsDiv.innerHTML = '';
            document.getElementById('score').style.display = 'none';

            // Update progress message
            const wrong = questions.filter(q => questionStats[q.q]?.lastResult === 'incorrect').length;
            const correct = questions.filter(q => questionStats[q.q]?.lastResult === 'correct').length;
            const unanswered = questions.length - wrong - correct;
            
            let progressMsg = 'Answer all questions then click Submit';
            if (wrong > 0 || correct > 0) {
                progressMsg = `üìä Questions prioritized: ${wrong} wrong (first), ${unanswered} unanswered, ${correct} correct`;
            }
            document.getElementById('progress').textContent = progressMsg;

            shuffledQuestions.forEach((item, index) => {
                const qDiv = document.createElement('div');
                qDiv.className = 'question';
                
                // Add status badge if question was answered before
                let statusBadge = '';
                const stat = questionStats[item.q];
                if (stat?.lastResult === 'incorrect') {
                    statusBadge = '<span class="status-badge status-wrong">Previously Wrong</span>';
                } else if (stat?.lastResult === 'correct') {
                    statusBadge = '<span class="status-badge status-correct">Previously Correct</span>';
                }
                
                qDiv.innerHTML = `
                    <div class="question-text">${index + 1}. ${item.q}${statusBadge}</div>
                    <div class="input-row">
                        <input type="text" id="q${index}" autocomplete="off">
                        <button type="button" class="check-btn" onclick="checkAnswer(${index})">Check</button>
                    </div>
                    <div class="feedback" id="f${index}"></div>
                `;
                questionsDiv.appendChild(qDiv);
            });
        }

        function shuffleQuiz() {
            generateQuiz();
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        function resetStats() {
            if (confirm('Reset all question statistics? This will clear your progress.')) {
                questionStats = {};
                localStorage.removeItem('rosterQuizStatsTyping');
                generateQuiz();
                window.scrollTo({ top: 0, behavior: 'smooth' });
            }
        }

        function viewStats() {
            const totalQuestions = questions.length;
            const answeredQuestions = Object.keys(questionStats).length;
            const unanswered = totalQuestions - answeredQuestions;
            
            let correct = 0;
            let incorrect = 0;
            let totalCorrect = 0;
            let totalIncorrect = 0;
            
            Object.values(questionStats).forEach(stat => {
                if (stat.lastResult === 'correct') correct++;
                if (stat.lastResult === 'incorrect') incorrect++;
                totalCorrect += stat.correct || 0;
                totalIncorrect += stat.incorrect || 0;
            });
            
            const totalAttempts = totalCorrect + totalIncorrect;
            const accuracy = totalAttempts > 0 ? Math.round((totalCorrect / totalAttempts) * 100) : 0;
            
            const statsMessage = `
üìä ROSTER QUIZ STATISTICS

Overall Performance:
‚Ä¢ Total Questions: ${totalQuestions}
‚Ä¢ Questions Attempted: ${answeredQuestions}
‚Ä¢ Not Yet Attempted: ${unanswered}

Current Status:
‚Ä¢ Last Answered Correctly: ${correct}
‚Ä¢ Last Answered Incorrectly: ${incorrect}
‚Ä¢ Unanswered: ${unanswered}

All-Time Accuracy:
‚Ä¢ Total Attempts: ${totalAttempts}
‚Ä¢ Correct Answers: ${totalCorrect}
‚Ä¢ Incorrect Answers: ${totalIncorrect}
‚Ä¢ Accuracy Rate: ${accuracy}%

Questions you got wrong will appear first when you shuffle the quiz!
            `.trim();
            
            alert(statsMessage);
        }

        function exportStats() {
            const statsText = JSON.stringify(questionStats, null, 2);
            const blob = new Blob([statsText], { type: 'application/json' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'roster-quiz-stats-typing.json';
            a.click();
            URL.revokeObjectURL(url);
        }

        // Initialize quiz and load stats
        loadStats();
        generateQuiz();

        document.getElementById('quizForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            let correct = 0;
            let total = shuffledQuestions.length;

            shuffledQuestions.forEach((item, index) => {
                const input = document.getElementById(`q${index}`);
                const feedback = document.getElementById(`f${index}`);
                const userAnswer = input.value.trim().toLowerCase();

                const isCorrect = item.a.some(answer => 
                    userAnswer === answer.toLowerCase()
                );

                // Track the result
                if (!questionStats[item.q]) {
                    questionStats[item.q] = { correct: 0, incorrect: 0 };
                }

                if (isCorrect) {
                    correct++;
                    questionStats[item.q].correct++;
                    questionStats[item.q].lastResult = 'correct';
                    feedback.className = 'feedback correct';
                    feedback.textContent = '‚úì Correct!';
                    feedback.style.display = 'block';
                } else {
                    questionStats[item.q].incorrect++;
                    questionStats[item.q].lastResult = 'incorrect';
                    feedback.className = 'feedback incorrect';
                    feedback.textContent = `‚úó Correct answer: ${item.a[0]}`;
                    feedback.style.display = 'block';
                }
            });

            const scoreDiv = document.getElementById('score');
            const percentage = Math.round((correct / total) * 100);
            scoreDiv.textContent = `Score: ${correct}/${total} (${percentage}%)`;
            scoreDiv.style.display = 'block';

            // Save stats to localStorage
            saveStats();

            window.scrollTo({ top: 0, behavior: 'smooth' });
        });
    </script>
</body>
</html>
